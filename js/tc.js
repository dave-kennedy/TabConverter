var tc = (function () {
    // ECMAScript 5 strict mode
    'use strict';
    
    var instruments = {
        'guitar': {
            'E/6' : ['12/1'],
            'E@/6': ['11/1'],
            'D#/6': ['11/1'],
            'D/6' : ['10/1'],
            'D@/6': ['9/1'],
            'C#/6': ['9/1'],
            'C/6' : ['8/1'],
            'C@/6': ['7/1'],
            'B#/5': ['8/1'],
            
            'B/5' : ['7/1', '12/2'],
            'B@/5': ['6/1', '11/2'],
            'A#/5': ['6/1', '11/2'],
            'A/5' : ['5/1', '10/2'],
            'A@/5': ['4/1', '9/2'],
            'G#/5': ['4/1', '9/2'],
            
            'G/5' : ['3/1', '8/2', '12/3'],
            'G@/5': ['2/1', '7/2', '11/3'],
            'F#/5': ['2/1', '7/2', '11/3'],
            'F/5' : ['1/1', '6/2', '10/3'],
            'F@/5': ['0/1', '5/2', '9/3'],
            'E#/5': ['1/1', '6/2', '10/3'],
            'E/5' : ['0/1', '5/2', '9/3'],
            
            'E@/5': ['4/2', '8/3'],
            'D#/5': ['4/2', '8/3'],
            
            'D/5' : ['3/2', '7/3', '12/4'],
            'D@/5': ['2/2', '6/3', '11/4'],
            'C#/5': ['2/2', '6/3', '11/4'],
            'C/5' : ['1/2', '5/3', '10/4'],
            'C@/5': ['0/2', '4/3', '9/4'],
            'B#/4': ['1/2', '5/3', '10/4'],
            'B/4' : ['0/2', '4/3', '9/4'],
            
            'B@/4': ['3/3', '8/4'],
            'A#/4': ['3/3', '8/4'],
            
            'A/4' : ['2/3', '7/4', '12/5'],
            'A@/4': ['1/3', '6/4', '11/5'],
            'G#/4': ['1/3', '6/4', '11/5'],
            'G/4' : ['0/3', '5/4', '10/5'],
            
            'G@/4': ['4/4', '9/5'],
            'F#/4': ['4/4', '9/5'],
            'F/4' : ['3/4', '8/5'],
            'F@/4': ['2/4', '7/5'],
            'E#/4': ['3/4', '8/5'],
            
            'E/4' : ['2/4', '7/5', '12/6'],
            'E@/4': ['1/4', '6/5', '11/6'],
            'D#/4': ['1/4', '6/5', '11/6'],
            'D/4' : ['0/4', '5/5', '10/6'],
            
            'D@/4': ['4/5', '9/6'],
            'C#/4': ['4/5', '9/6'],
            'C/4' : ['3/5', '8/6'],
            'C@/4': ['2/5', '7/6'],
            'B#/3': ['3/5', '8/6'],
            'B/3' : ['2/5', '7/6'],
            'B@/3': ['1/5', '6/6'],
            'A#/3': ['1/5', '6/6'],
            'A/3' : ['0/5', '5/6'],
            
            'A@/3': ['4/6'],
            'G#/3': ['4/6'],
            'G/3' : ['3/6'],
            'G@/3': ['2/6'],
            'F#/3': ['2/6'],
            'F/3' : ['1/6'],
            'F@/3': ['0/6'],
            'E#/3': ['1/6'],
            'E/3' : ['0/6']
        },
        'mandolin': {
            'E/6' : ['12/1'],
            'E@/6': ['11/1'],
            'D#/6': ['11/1'],
            'D/6' : ['10/1'],
            'D@/6': [ '9/1'],
            'C#/6': [ '9/1'],
            'C/6' : [ '8/1'],
            'C@/6': [ '7/1'],
            'B#/5': [ '8/1'],
            'B/5' : [ '7/1'],
            
            'B@/5': [ '6/1', '13/2'],
            'A#/5': [ '6/1', '13/2'],
            'A/5' : [ '5/1', '12/2'],
            'A@/5': [ '4/1', '11/2'],
            'G#/5': [ '4/1', '11/2'],
            'G/5' : [ '3/1', '10/2'],
            'G@/5': [ '2/1',  '9/2'],
            'F#/5': [ '2/1',  '9/2'],
            'F/5' : [ '1/1',  '8/2'],
            'F@/5': [ '0/1',  '7/2'],
            'E#/5': [ '1/1',  '8/2'],
            'E/5' : [ '0/1',  '7/2'],
            
            'E@/5': [ '6/2', '13/3'],
            'D#/5': [ '6/2', '13/3'],
            'D/5' : [ '5/2', '12/3'],
            'D@/5': [ '4/2', '11/3'],
            'C#/5': [ '4/2', '11/3'],
            'C/5' : [ '3/2', '10/3'],
            'C@/5': [ '2/2',  '9/3'],
            'B#/4': [ '3/2', '10/3'],
            'B/4' : [ '2/2',  '9/3'],
            'B@/4': [ '1/2',  '8/3'],
            'A#/4': [ '1/2',  '8/3'],
            'A/4' : [ '0/2',  '7/3'],
            
            'A@/4': [ '6/3', '13/4'],
            'G#/4': [ '6/3', '13/4'],
            'G/4' : [ '5/3', '12/4'],
            'G@/4': [ '4/3', '11/4'],
            'F#/4': [ '4/3', '11/4'],
            'F/4' : [ '3/3', '10/4'],
            'F@/4': [ '2/3',  '9/4'],
            'E#/4': [ '3/3', '10/4'],
            'E/4' : [ '2/3',  '9/4'],
            'E@/4': [ '1/3',  '8/4'],
            'D#/4': [ '1/3',  '8/4'],
            'D/4' : [ '0/3',  '7/4'],
            
            'D@/4': [ '6/4'],
            'C#/4': [ '6/4'],
            'C/4' : [ '5/4'],
            'C@/4': [ '4/4'],
            'B#/3': [ '5/4'],
            'B/3' : [ '4/4'],
            'B@/3': [ '3/4'],
            'A#/3': [ '3/4'],
            'A/3' : [ '2/4'],
            'A@/3': [ '1/4'],
            'G#/3': [ '1/4'],
            'G/3' : [ '0/4']
        }
    };
    
    function convert(staffNote, instrument, position) {
        var tabNote = instruments[instrument][staffNote];
        
        if (!tabNote) {
            return;
        }
        
        if (tabNote[position]) {
            return tabNote[position];
        }
        
        if (tabNote[position - 1]) {
            return tabNote[position - 1];
        }
        
        return tabNote[0];
    }
    
    return {
        'convert': convert
    };
}());